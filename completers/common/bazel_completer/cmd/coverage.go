package cmd

import (
	"github.com/carapace-sh/carapace"
	"github.com/spf13/cobra"
)

var coverageCmd = &cobra.Command{
	Use:   "coverage",
	Short: "Generates code coverage report for specified test targets.",
	Run:   func(cmd *cobra.Command, args []string) {},
}

func init() {
	carapace.Gen(coverageCmd).Standalone()

	coverageCmd.Flags().Bool("allow_analysis_cache_discard", false, "If discarding the analysis cache due to a change in the build system, setting this")
	coverageCmd.Flags().Bool("allow_one_action_on_resource_unavailable", false, "If set, allow at least one action to run even if the resource is not enough or unavailable.")
	coverageCmd.Flags().String("allowed_local_actions_regex", "", "A regex whitelist for action types which may be run locally. If unset, all actions are allowed to execute locally")
	coverageCmd.Flags().StringSlice("allowed_strategies_by_exec_platform", nil, "Filters spawn strategies by the execution platform without affecting order.")
	coverageCmd.Flags().Bool("analyze", false, "Execute the loading/analysis phase; this is the usual behaviour. Specifying `--noanalyze`")
	coverageCmd.Flags().StringSlice("aspects", nil, "Comma-separated list of aspects to be applied to top-level targets. In the list, if")
	coverageCmd.Flags().StringSlice("aspects_parameters", nil, "Specifies the values of the command-line aspects parameters. Each parameter value is")
	coverageCmd.Flags().Bool("build", false, "Execute the build; this is the usual behaviour.")
	coverageCmd.Flags().String("build_event_upload_max_retries", "", "The maximum number of times Bazel should retry uploading a build event.")
	coverageCmd.Flags().Bool("build_manual_tests", false, "Forces test targets tagged 'manual' to be built. 'manual' tests are excluded from processing. This option forces them to be built (but not executed).")
	coverageCmd.Flags().String("build_tag_filters", "", "Specifies a comma-separated list of tags. Each tag can be optionally preceded with '-' to specify excluded tags. Only those targets will be built that contain at least one included tag and do not contain any excluded tags. This option does not affect the set of tests executed with the 'test' command; those are be governed by the test filtering options, for example '--test_tag_filters'")
	coverageCmd.Flags().Bool("build_tests_only", false, "If specified, only *_test and test_suite rules will be built and other targets specified on the command line will be ignored. By default everything that was requested will be built.")
	coverageCmd.Flags().String("cache_computed_file_digests", "", "If greater than 0, configures Bazel to cache file digests in memory based on their metadata instead of recomputing the digests from disk every time they are needed. Setting this to 0 ensures correctness because not all file changes can be noted from file metadata. When not 0, the number indicates the size of the cache as the number of file digests to be cached.")
	coverageCmd.Flags().Bool("check_tests_up_to_date", false, "Don't run tests, just check if they are up-to-date.  If all tests results are up-to-date, the testing completes successfully.  If any test needs to be built or executed, an error is reported and the testing fails.  This option implies --check_up_to_date behavior.")
	coverageCmd.Flags().Bool("check_up_to_date", false, "Don't perform the build, just check if it is up-to-date.  If all targets are up-to-date, the build completes successfully.  If any step needs to be executed an error is reported and the build fails.")
	coverageCmd.Flags().Bool("compile_one_dependency", false, "Compile a single dependency of the argument files. This is useful for syntax checking source files in IDEs, for example, by rebuilding a single target that depends on the source file to detect errors as early as possible in the edit/build/test cycle. This argument affects the way all non-flag arguments are interpreted; instead of being targets to build they are source filenames.  For each source filename an arbitrary target that depends on it will be built.")
	coverageCmd.Flags().String("default_visibility", "", "Default visibility for packages that don't set it explicitly ('public' or 'private').")
	coverageCmd.Flags().StringSlice("deleted_packages", nil, "A comma-separated list of names of packages which the build system will consider non-existent, even if they are visible somewhere on the package path.")
	coverageCmd.Flags().String("directory_creation_cache", "", "Describes the cache used to store known regular directories as they're created. Parent directories of output files are created on-demand during action execution.")
	coverageCmd.Flags().Bool("discard_analysis_cache", false, "Discard the analysis cache immediately after the analysis phase completes. Reduces memory usage by ~10%, but makes further incremental builds slower.")
	coverageCmd.Flags().Bool("enforce_project_configs", false, "If true, interactive builds may only pass the --scl_config build flag; they may not use any other build flags. --scl_config must be set to an officially suported project configuration. Supported configurations are defined in the target's PROJECT.scl, which can be found by walking up the target's packagge path. See b/324126745.")
	coverageCmd.Flags().String("execution_log_binary_file", "", "Log the executed spawns into this file as length-delimited SpawnExec protos, according to src/main/protobuf/spawn.proto. Prefer --execution_log_compact_file, which is significantly smaller and cheaper to produce. Related flags: --execution_log_compact_file (compact format; mutually exclusive), --execution_log_json_file (text JSON format; mutually exclusive), --execution_log_sort (whether to sort the execution log), --subcommands (for displaying subcommands in terminal output).")
	coverageCmd.Flags().String("execution_log_compact_file", "", "Log the executed spawns into this file as length-delimited ExecLogEntry protos, according to src/main/protobuf/spawn.proto. The entire file is zstd compressed. Related flags: --execution_log_binary_file (binary protobuf format; mutually exclusive), --execution_log_json_file (text JSON format; mutually exclusive), --subcommands (for displaying subcommands in terminal output).")
	coverageCmd.Flags().String("execution_log_json_file", "", "Log the executed spawns into this file as newline-delimited JSON representations of SpawnExec protos, according to src/main/protobuf/spawn.proto. Prefer --execution_log_compact_file, which is significantly smaller and cheaper to produce. Related flags: --execution_log_compact_file (compact format; mutually exclusive), --execution_log_binary_file (binary protobuf format; mutually exclusive), --execution_log_sort (whether to sort the execution log), --subcommands (for displaying subcommands in terminal output).")
	coverageCmd.Flags().Bool("execution_log_sort", false, "Whether to sort the execution log, making it easier to compare logs across invocations. Set to false to avoid potentially significant CPU and memory usage at the end of the invocation, at the cost of producing the log in nondeterministic execution order. Only applies to the binary and JSON formats; the compact format is never sorted.")
	coverageCmd.Flags().Bool("expand_test_suites", false, "Expand test_suite targets into their constituent tests before analysis. When this flag is turned on (the default), negative target patterns will apply to the tests belonging to the test suite, otherwise they will not. Turning off this flag is useful when top-level aspects are applied at command line: then they can analyze test_suite targets.")
	coverageCmd.Flags().String("experimental_active_directories", "", "Active directories for Skyfocus and remote analysis caching. Specify as comma-separated workspace root-relative paths. This is a stateful flag. Defining one persists it for subsequent invocations, until it is redefined with a new set.")
	coverageCmd.Flags().Bool("experimental_analysis_cache_enable_metadata_queries", false, "A flag to switch on/off inserting and querying the metadata db (b/425247333).")
	coverageCmd.Flags().String("experimental_analysis_cache_key_distinguisher_for_testing", "", "An opaque string used as part of the cache key. Should only be used for testing.")
	coverageCmd.Flags().String("experimental_analysis_cache_server_checksum_override", "", "If set, Blaze will use this checksum to look up entries in the remote analysis cache and not its own. WARNING: this might result in incorrect behavior. Only for debugging. It's best if the difference between the writer and the reader is only additional logging. In particular, the data structures that are being serialized  and the observable behavior of the serialization machinery must not change.")
	coverageCmd.Flags().String("experimental_analysis_cache_service", "", "Locator for the AnalysisCacheService instance.")
	coverageCmd.Flags().String("experimental_aquery_dump_after_build_format", "", "Writes the state of Skyframe (which includes previous invocations on this blaze instance")
	coverageCmd.Flags().String("experimental_aquery_dump_after_build_output_file", "", "Specify the output file for the aquery dump after a build. Use in conjunction with")
	coverageCmd.Flags().Bool("experimental_async_execution", false, "If set to true, Bazel is allowed to run action in a virtual thread. The number of")
	coverageCmd.Flags().String("experimental_async_execution_max_concurrent_actions", "", "The number of maximum concurrent actions to run with async execution. If the value is")
	coverageCmd.Flags().Bool("experimental_bep_target_summary", false, "Whether to publish `TargetSummary` events.")
	coverageCmd.Flags().Bool("experimental_build_event_expand_filesets", false, "If true, expand Filesets in the BEP when presenting output files.")
	coverageCmd.Flags().StringSlice("experimental_build_event_output_group_mode", nil, "Specify how an output group's files will be represented in `TargetComplete`/`AspectComplete`")
	coverageCmd.Flags().String("experimental_build_event_upload_retry_minimum_delay", "", "Initial, minimum delay for exponential backoff retries when BEP upload fails. (exponent: 1.6)")
	coverageCmd.Flags().String("experimental_build_event_upload_strategy", "", "Selects how to upload artifacts referenced in the build event protocol. In Bazel")
	coverageCmd.Flags().Bool("experimental_check_external_other_files", false, "Check for modifications made to the non-output, non-repo external files, e.g. host files.")
	coverageCmd.Flags().Bool("experimental_check_output_files", false, "Check for modifications made to the output files of a build. Consider setting this flag to false if you don't expect these files to change outside of bazel since it will speed up subsequent runs as they won't have to check a previous run's cache.")
	coverageCmd.Flags().String("experimental_convenience_symlinks", "", "This flag controls how the convenience symlinks (the symlinks that appear in the")
	coverageCmd.Flags().Bool("experimental_convenience_symlinks_bep_event", false, "This flag controls whether or not we will post the build event")
	coverageCmd.Flags().Bool("experimental_cpu_load_scheduling", false, "Enables the experimental local execution scheduling based on CPU load, not estimation of actions one by one.  Experimental scheduling have showed the large benefit on a large local builds on a powerful machines with the large number of cores. Reccommended to use with --local_resources=cpu=HOST_CPUS")
	coverageCmd.Flags().String("experimental_cpu_load_scheduling_window_size", "", "The size of window during experimental scheduling of action based on CPU load. Make sense to define only when flag --experimental_cpu_load_scheduling is enabled.")
	coverageCmd.Flags().Bool("experimental_enable_critical_path_profiling", false, "If set (the default), critical path profiling is enabled for the execution phase. This has a slight overhead in RAM and CPU, and may prevent Bazel from making certain aggressive RAM optimizations in some cases.")
	coverageCmd.Flags().Bool("experimental_enable_skyfocus", false, "If true, enable the use of --experimental_active_directories to reduce Bazel's memory footprint for incremental builds. This feature is known as Skyfocus.")
	coverageCmd.Flags().String("experimental_extra_action_filter", "", "Deprecated in favor of aspects. Filters set of targets to schedule extra_actions for.")
	coverageCmd.Flags().Bool("experimental_extra_action_top_level_only", false, "Deprecated in favor of aspects. Only schedules extra_actions for top level targets.")
	coverageCmd.Flags().String("experimental_frontier_violation_check", "", "Strategies to handle potential incorrectness from changes beyond the frontier (i.e. outside the active directories)")
	coverageCmd.Flags().Bool("experimental_frontier_violation_verbose", false, "If true, Bazel will print instructions for fixing Skycache violations")
	coverageCmd.Flags().String("experimental_fsvc_threads", "", "The number of threads that are used by the `FileSystemValueChecker`.")
	coverageCmd.Flags().String("experimental_lazy_macro_expansion_packages", "", "List of packages in which symbolic macro are expanded only if necessary.")
	coverageCmd.Flags().Bool("experimental_local_lockfree_output", false, "When true, the local spawn runner doesn't lock the output tree during dynamic execution. Instead, spawns are allowed to execute until they are explicitly interrupted by a faster remote action.")
	coverageCmd.Flags().String("experimental_local_retries_on_crash", "", "Number of times to retry a local action when we detect that it crashed. This exists to workaround a bug in OSXFUSE which is tickled by the use of the dynamic scheduler and --experimental_local_lockfree_output due to constant process churn. The bug can be triggered by a cancelled process that ran *before* the process we are trying to run, introducing corruption in its file reads.")
	coverageCmd.Flags().Bool("experimental_materialize_param_files_directly", false, "If materializing param files, do so with direct writes to disk.")
	coverageCmd.Flags().String("experimental_max_directories_to_eagerly_visit_in_globbing", "", "If non-negative, the first time a glob is evaluated in a package, the subdirectories of the package will be traversed in order to warm filesystem caches and compensate for lack of parallelism in globbing. At most this many directories will be visited.")
	coverageCmd.Flags().Bool("experimental_merged_skyframe_analysis_execution", false, "If this flag is set, the analysis and execution phases of Skyframe are merged.")
	coverageCmd.Flags().String("experimental_oom_sensitive_skyfunctions_semaphore_size", "", "Sets the size of the semaphore used to prevent SkyFunctions with large peak memory requirement from OOM-ing blaze. A value of 0 indicates that no semaphore should be used. Example value: `HOST_CPUS*0.5`.")
	coverageCmd.Flags().Bool("experimental_process_wrapper_graceful_sigterm", false, "When true, make the process-wrapper propagate SIGTERMs (used by the dynamic scheduler to stop process trees) to the subprocesses themselves, giving them the grace period in --local_termination_grace_seconds before forcibly sending a SIGKILL.")
	coverageCmd.Flags().String("experimental_remote_analysis_cache", "", "The URL for the remote analysis caching backend.")
	coverageCmd.Flags().String("experimental_remote_analysis_cache_concurrency", "", "Target concurrency for remote analysis caching RPCs.")
	coverageCmd.Flags().String("experimental_remote_analysis_cache_deadline", "", "Deadline to use for remote analysis cache operations.")
	coverageCmd.Flags().String("experimental_remote_analysis_cache_max_batch_size", "", "Batch size limit for remote analysis caching RPCs.")
	coverageCmd.Flags().String("experimental_remote_analysis_cache_mode", "", "The transport direction for the remote analysis cache.")
	coverageCmd.Flags().String("experimental_remote_analysis_unreachable_cache_retry_interval", "", "How long to wait before retrying a cache get request that failed due to an UNREACHABLE channel. This is a workaround for the client library reporting 'ready' prematurely.")
	coverageCmd.Flags().String("experimental_remote_analysis_write_proxy", "", "The address of the SkycacheStorageWriteProxyService. If set, this service will be used for uploading analysis cache data.")
	coverageCmd.Flags().String("experimental_remote_cache_eviction_retries", "", "The maximum number of attempts to retry if the build encountered a transient remote cache error that would otherwise fail the build. Applies for example when artifacts are evicted from the remote cache, or in certain cache failure conditions. A new invocation id will be generated for each attempt.")
	coverageCmd.Flags().Bool("experimental_run_bep_event_include_residue", false, "Whether to include the command-line residue in run build events which could contain the residue. By default, the residue is not included in run command build events that could contain the residue.")
	coverageCmd.Flags().String("experimental_skyfocus_dump_keys", "", "For debugging Skyfocus. Dump the focused SkyKeys (roots, leafs, focused deps, focused rdeps).")
	coverageCmd.Flags().Bool("experimental_skyfocus_dump_post_gc_stats", false, "For debugging Skyfocus. If enabled, trigger manual GC before/after focusing to report heap sizes reductions. This will increase the Skyfocus latency.")
	coverageCmd.Flags().String("experimental_skyframe_cpu_heavy_skykeys_thread_pool_size", "", "If set to a positive value (e.g. `HOST_CPUS*1.5`), Skyframe will run the loading/analysis phase with 2 separate thread pools: 1 with `<value>` threads (ideally close to `HOST_CPUS`) reserved for CPU-heavy SkyKeys, and 1 \"standard\" thread pool (whose size is controlled by `--loading_phase_threads`) for the rest.")
	coverageCmd.Flags().Bool("experimental_skyframe_error_handling_refactor", false, "Used solely for the safe rollout of simplifying Skyframe error handling. This will beremoved once the rollout is complete (expected timeframe: 1 release)")
	coverageCmd.Flags().String("experimental_skyframe_memory_dump", "", "Dump the memory use of individual nodes in the Skyframe graph after the build. This")
	coverageCmd.Flags().Bool("experimental_skyframe_target_pattern_evaluator", false, "Use the Skyframe-based target pattern evaluator; implies --experimental_interleave_loading_and_analysis.")
	coverageCmd.Flags().String("experimental_skymeld_analysis_overlap_percentage", "", "The value represents the % of the analysis phase which will be overlapped with the execution phase. A value of x means Skyframe will queue up execution tasks and wait until there's x% of the top level target left to be analyzed before allowing them to launch. When the value is 0%, we'd wait for all analysis to finish before executing (no overlap). When it's 100%, the phases are free to overlap as much as they can.")
	coverageCmd.Flags().Bool("experimental_stats_summary", false, "Enable a modernized summary of the build stats.")
	coverageCmd.Flags().Bool("experimental_stream_log_file_uploads", false, "Stream log file uploads directly to the remote storage rather than writing them to disk.")
	coverageCmd.Flags().Bool("experimental_use_validation_aspect", false, "Whether to run validation actions using aspect (for parallelism with tests).")
	coverageCmd.Flags().String("explain", "", "Causes the build system to explain each executed step of the build. The explanation is written to the specified log file.")
	coverageCmd.Flags().Bool("fetch", false, "Allows the command to fetch external dependencies. If set to false, the command will utilize any cached version of the dependency, and if none exists, the command will result in failure.")
	coverageCmd.Flags().StringSlice("flaky_test_attempts", nil, "Each test will be retried up to the specified number of times in case of any test failure. Tests that required more than one attempt to pass are marked as 'FLAKY' in the test summary. Normally the value specified is just an integer or the string 'default'. If an integer, then all tests will be run up to N times. If 'default', then only a single test attempt will be made for regular tests and three for tests marked explicitly as flaky by their rule (flaky=1 attribute). Alternate syntax: regex_filter@flaky_test_attempts. Where flaky_test_attempts is as above and regex_filter stands for a list of include and exclude regular expression patterns (Also see --runs_per_test). Example: --flaky_test_attempts=//foo/.*,-//foo/bar/.*@3 deflakes all tests in //foo/ except those under foo/bar three times. This option can be passed multiple times. The most recently passed argument that matches takes precedence. If nothing matches, behavior is as if 'default' above.")
	coverageCmd.Flags().String("genrule_strategy", "", "Specify how to execute genrules. This flag will be phased out. Instead, use --spawn_strategy=<value> to control all actions or --strategy=Genrule=<value> to control genrules only.")
	coverageCmd.Flags().String("hide_aspect_results", "", "Comma-separated list of aspect names to not display in results (see `--show_result`).")
	coverageCmd.Flags().Bool("incompatible_config_setting_private_default_visibility", false, "If incompatible_enforce_config_setting_visibility=false, this is a noop. Else, if this flag is false, any config_setting without an explicit visibility attribute is //visibility:public. If this flag is true, config_setting follows the same visibility logic as all other rules. See https://github.com/bazelbuild/bazel/issues/12933.")
	coverageCmd.Flags().Bool("incompatible_enforce_config_setting_visibility", false, "If true, enforce config_setting visibility restrictions. If false, every config_setting is visible to every target. See https://github.com/bazelbuild/bazel/issues/12932.")
	coverageCmd.Flags().Bool("incompatible_skip_genfiles_symlink", false, "If set to true, the genfiles symlink will not be created. For more information, see")
	coverageCmd.Flags().StringP("jobs", "j", "", "The number of concurrent jobs to run. Takes an integer, or a keyword (\"auto\", \"HOST_CPUS\", \"HOST_RAM\"), optionally followed by an operation ([-|*]<float>) eg. \"auto\", \"HOST_CPUS*.5\". Values must be between 1 and 5000. Values above 2500 may cause memory issues. \"auto\" calculates a reasonable default based on host resources.")
	coverageCmd.Flags().BoolP("keep_going", "k", false, "Continue as much as possible after an error.  While the target that failed and those that depend on it cannot be analyzed, other prerequisites of these targets can be.")
	coverageCmd.Flags().String("legacy_globbing_threads", "", "Number of threads to use for glob evaluation. Takes an integer, or a keyword (\"auto\", \"HOST_CPUS\", \"HOST_RAM\"), optionally followed by an operation ([-|*]<float>) eg. \"auto\", \"HOST_CPUS*.5\". \"auto\" means to use a reasonable value derived from the machine's hardware profile (e.g. the number of processors).")
	coverageCmd.Flags().Bool("legacy_important_outputs", false, "Use this to suppress generation of the legacy `important_outputs` field in the")
	coverageCmd.Flags().String("loading_phase_threads", "", "Number of parallel threads to use for the loading/analysis phase.Takes an integer, or a keyword (\"auto\", \"HOST_CPUS\", \"HOST_RAM\"), optionally followed by an operation ([-|*]<float>) eg. \"auto\", \"HOST_CPUS*.5\". \"auto\" sets a reasonable default based on host resources. Must be at least 1.")
	coverageCmd.Flags().StringSlice("local_resources", nil, "Set the number of resources available to Bazel. Takes in an assignment to a float or HOST_RAM/HOST_CPUS, optionally followed by [-|*]<float> (eg. memory=HOST_RAM*.5 to use half the available RAM). Can be used multiple times to specify multiple types of resources. Bazel will limit concurrently running actions based on the available resources and the resources required. Tests can declare the amount of resources they need by using a tag of the \"resources:<resource name>:<amount>\" format. ")
	coverageCmd.Flags().String("local_termination_grace_seconds", "", "Time to wait between terminating a local process due to timeout and forcefully shutting it down.")
	coverageCmd.Flags().String("local_test_jobs", "", "The max number of local test jobs to run concurrently. Takes an integer, or a keyword (\"auto\", \"HOST_CPUS\", \"HOST_RAM\"), optionally followed by an operation ([-|*]<float>) eg. \"auto\", \"HOST_CPUS*.5\". 0 means local resources will limit the number of local test jobs to run concurrently instead. Setting this greater than the value for --jobs is ineffectual.")
	coverageCmd.Flags().Bool("materialize_param_files", false, "Writes intermediate parameter files to output tree even when using remote action execution or caching. Useful when debugging actions. This is implied by --subcommands and --verbose_failures.")
	coverageCmd.Flags().String("max_config_changes_to_show", "", "When discarding the analysis cache due to a change in the build options, displays up to the given number of changed option names. If the number given is -1, all changed options will be displayed.")
	coverageCmd.Flags().String("max_test_output_bytes", "", "Specifies maximum per-test-log size that can be emitted when --test_output is 'errors' or 'all'. Useful for avoiding overwhelming the output with excessively noisy test output. The test header is included in the log size. Negative values imply no limit. Output is all or nothing.")
	coverageCmd.Flags().Bool("noallow_analysis_cache_discard", false, "If discarding the analysis cache due to a change in the build system, setting this")
	coverageCmd.Flags().Bool("noallow_one_action_on_resource_unavailable", false, "If set, allow at least one action to run even if the resource is not enough or unavailable.")
	coverageCmd.Flags().Bool("noanalyze", false, "Execute the loading/analysis phase; this is the usual behaviour. Specifying `--noanalyze`")
	coverageCmd.Flags().Bool("nobuild", false, "Execute the build; this is the usual behaviour.")
	coverageCmd.Flags().Bool("nobuild_manual_tests", false, "Forces test targets tagged 'manual' to be built. 'manual' tests are excluded from processing. This option forces them to be built (but not executed).")
	coverageCmd.Flags().Bool("nobuild_tests_only", false, "If specified, only *_test and test_suite rules will be built and other targets specified on the command line will be ignored. By default everything that was requested will be built.")
	coverageCmd.Flags().Bool("nocheck_tests_up_to_date", false, "Don't run tests, just check if they are up-to-date.  If all tests results are up-to-date, the testing completes successfully.  If any test needs to be built or executed, an error is reported and the testing fails.  This option implies --check_up_to_date behavior.")
	coverageCmd.Flags().Bool("nocheck_up_to_date", false, "Don't perform the build, just check if it is up-to-date.  If all targets are up-to-date, the build completes successfully.  If any step needs to be executed an error is reported and the build fails.")
	coverageCmd.Flags().Bool("nocompile_one_dependency", false, "Compile a single dependency of the argument files. This is useful for syntax checking source files in IDEs, for example, by rebuilding a single target that depends on the source file to detect errors as early as possible in the edit/build/test cycle. This argument affects the way all non-flag arguments are interpreted; instead of being targets to build they are source filenames.  For each source filename an arbitrary target that depends on it will be built.")
	coverageCmd.Flags().Bool("nodiscard_analysis_cache", false, "Discard the analysis cache immediately after the analysis phase completes. Reduces memory usage by ~10%, but makes further incremental builds slower.")
	coverageCmd.Flags().Bool("noenforce_project_configs", false, "If true, interactive builds may only pass the --scl_config build flag; they may not use any other build flags. --scl_config must be set to an officially suported project configuration. Supported configurations are defined in the target's PROJECT.scl, which can be found by walking up the target's packagge path. See b/324126745.")
	coverageCmd.Flags().Bool("noexecution_log_sort", false, "Whether to sort the execution log, making it easier to compare logs across invocations. Set to false to avoid potentially significant CPU and memory usage at the end of the invocation, at the cost of producing the log in nondeterministic execution order. Only applies to the binary and JSON formats; the compact format is never sorted.")
	coverageCmd.Flags().Bool("noexpand_test_suites", false, "Expand test_suite targets into their constituent tests before analysis. When this flag is turned on (the default), negative target patterns will apply to the tests belonging to the test suite, otherwise they will not. Turning off this flag is useful when top-level aspects are applied at command line: then they can analyze test_suite targets.")
	coverageCmd.Flags().Bool("noexperimental_analysis_cache_enable_metadata_queries", false, "A flag to switch on/off inserting and querying the metadata db (b/425247333).")
	coverageCmd.Flags().Bool("noexperimental_async_execution", false, "If set to true, Bazel is allowed to run action in a virtual thread. The number of")
	coverageCmd.Flags().Bool("noexperimental_bep_target_summary", false, "Whether to publish `TargetSummary` events.")
	coverageCmd.Flags().Bool("noexperimental_build_event_expand_filesets", false, "If true, expand Filesets in the BEP when presenting output files.")
	coverageCmd.Flags().Bool("noexperimental_check_external_other_files", false, "Check for modifications made to the non-output, non-repo external files, e.g. host files.")
	coverageCmd.Flags().Bool("noexperimental_check_output_files", false, "Check for modifications made to the output files of a build. Consider setting this flag to false if you don't expect these files to change outside of bazel since it will speed up subsequent runs as they won't have to check a previous run's cache.")
	coverageCmd.Flags().Bool("noexperimental_convenience_symlinks_bep_event", false, "This flag controls whether or not we will post the build event")
	coverageCmd.Flags().Bool("noexperimental_cpu_load_scheduling", false, "Enables the experimental local execution scheduling based on CPU load, not estimation of actions one by one.  Experimental scheduling have showed the large benefit on a large local builds on a powerful machines with the large number of cores. Reccommended to use with --local_resources=cpu=HOST_CPUS")
	coverageCmd.Flags().Bool("noexperimental_enable_critical_path_profiling", false, "If set (the default), critical path profiling is enabled for the execution phase. This has a slight overhead in RAM and CPU, and may prevent Bazel from making certain aggressive RAM optimizations in some cases.")
	coverageCmd.Flags().Bool("noexperimental_enable_skyfocus", false, "If true, enable the use of --experimental_active_directories to reduce Bazel's memory footprint for incremental builds. This feature is known as Skyfocus.")
	coverageCmd.Flags().Bool("noexperimental_extra_action_top_level_only", false, "Deprecated in favor of aspects. Only schedules extra_actions for top level targets.")
	coverageCmd.Flags().Bool("noexperimental_frontier_violation_verbose", false, "If true, Bazel will print instructions for fixing Skycache violations")
	coverageCmd.Flags().Bool("noexperimental_local_lockfree_output", false, "When true, the local spawn runner doesn't lock the output tree during dynamic execution. Instead, spawns are allowed to execute until they are explicitly interrupted by a faster remote action.")
	coverageCmd.Flags().Bool("noexperimental_materialize_param_files_directly", false, "If materializing param files, do so with direct writes to disk.")
	coverageCmd.Flags().Bool("noexperimental_merged_skyframe_analysis_execution", false, "If this flag is set, the analysis and execution phases of Skyframe are merged.")
	coverageCmd.Flags().Bool("noexperimental_process_wrapper_graceful_sigterm", false, "When true, make the process-wrapper propagate SIGTERMs (used by the dynamic scheduler to stop process trees) to the subprocesses themselves, giving them the grace period in --local_termination_grace_seconds before forcibly sending a SIGKILL.")
	coverageCmd.Flags().Bool("noexperimental_run_bep_event_include_residue", false, "Whether to include the command-line residue in run build events which could contain the residue. By default, the residue is not included in run command build events that could contain the residue.")
	coverageCmd.Flags().Bool("noexperimental_skyfocus_dump_post_gc_stats", false, "For debugging Skyfocus. If enabled, trigger manual GC before/after focusing to report heap sizes reductions. This will increase the Skyfocus latency.")
	coverageCmd.Flags().Bool("noexperimental_skyframe_error_handling_refactor", false, "Used solely for the safe rollout of simplifying Skyframe error handling. This will beremoved once the rollout is complete (expected timeframe: 1 release)")
	coverageCmd.Flags().Bool("noexperimental_skyframe_target_pattern_evaluator", false, "Use the Skyframe-based target pattern evaluator; implies --experimental_interleave_loading_and_analysis.")
	coverageCmd.Flags().Bool("noexperimental_stats_summary", false, "Enable a modernized summary of the build stats.")
	coverageCmd.Flags().Bool("noexperimental_stream_log_file_uploads", false, "Stream log file uploads directly to the remote storage rather than writing them to disk.")
	coverageCmd.Flags().Bool("noexperimental_use_validation_aspect", false, "Whether to run validation actions using aspect (for parallelism with tests).")
	coverageCmd.Flags().Bool("nofetch", false, "Allows the command to fetch external dependencies. If set to false, the command will utilize any cached version of the dependency, and if none exists, the command will result in failure.")
	coverageCmd.Flags().Bool("noincompatible_config_setting_private_default_visibility", false, "If incompatible_enforce_config_setting_visibility=false, this is a noop. Else, if this flag is false, any config_setting without an explicit visibility attribute is //visibility:public. If this flag is true, config_setting follows the same visibility logic as all other rules. See https://github.com/bazelbuild/bazel/issues/12933.")
	coverageCmd.Flags().Bool("noincompatible_enforce_config_setting_visibility", false, "If true, enforce config_setting visibility restrictions. If false, every config_setting is visible to every target. See https://github.com/bazelbuild/bazel/issues/12932.")
	coverageCmd.Flags().Bool("noincompatible_skip_genfiles_symlink", false, "If set to true, the genfiles symlink will not be created. For more information, see")
	coverageCmd.Flags().Bool("nokeep_going", false, "Continue as much as possible after an error.  While the target that failed and those that depend on it cannot be analyzed, other prerequisites of these targets can be.")
	coverageCmd.Flags().Bool("nolegacy_important_outputs", false, "Use this to suppress generation of the legacy `important_outputs` field in the")
	coverageCmd.Flags().Bool("nomaterialize_param_files", false, "Writes intermediate parameter files to output tree even when using remote action execution or caching. Useful when debugging actions. This is implied by --subcommands and --verbose_failures.")
	coverageCmd.Flags().Bool("nooutput_tree_tracking", false, "If set, tell the output service (if any) to track when files in the output tree have been modified externally (not by the build system). This should improve incremental build speed when an appropriate output service is enabled.")
	coverageCmd.Flags().Bool("noprint_relative_test_log_paths", false, "If true, when printing the path to a test log, use relative path that makes use of the 'testlogs' convenience symlink. N.B. - A subsequent 'build'/'test'/etc invocation with a different configuration can cause the target of this symlink to change, making the path printed previously no longer useful.")
	coverageCmd.Flags().Bool("norewind_lost_inputs", false, "Whether to use action rewinding to recover from lost inputs.")
	coverageCmd.Flags().Bool("norun_validations", false, "Whether to run validation actions as part of the build. See [Validation Actions].")
	coverageCmd.Flags().Bool("noshow_loading_progress", false, "If enabled, causes Bazel to print \"Loading package:\" messages.")
	coverageCmd.Flags().Bool("noskip_incompatible_explicit_targets", false, "Skip incompatible targets that are explicitly listed on the command line.")
	coverageCmd.Flags().Bool("notest_keep_going", false, "When disabled, any non-passing test will cause the entire build to stop. By default all tests are run, even if some do not pass.")
	coverageCmd.Flags().Bool("notest_verbose_timeout_warnings", false, "If true, print additional warnings when the actual test execution time does not match the timeout defined by the test (whether implied or explicit).")
	coverageCmd.Flags().Bool("nouse_action_cache", false, "Whether to use the action cache")
	coverageCmd.Flags().Bool("noverbose_failures", false, "If a command fails, print out the full command line.")
	coverageCmd.Flags().Bool("noverbose_test_summary", false, "If true, print additional information (timing, number of failed runs, etc) in the test summary.")
	coverageCmd.Flags().String("output_filter", "", "Only shows warnings and action outputs for rules with a name matching the provided regular expression.")
	coverageCmd.Flags().StringSlice("output_groups", nil, "A list of comma-separated output group names, each of which optionally prefixed by a `+`")
	coverageCmd.Flags().Bool("output_tree_tracking", false, "If set, tell the output service (if any) to track when files in the output tree have been modified externally (not by the build system). This should improve incremental build speed when an appropriate output service is enabled.")
	coverageCmd.Flags().String("package_path", "", "A colon-separated list of where to look for packages. Elements beginning with '%workspace%' are relative to the enclosing workspace. If omitted or empty, the default is the output of 'bazel info default-package-path'.")
	coverageCmd.Flags().Bool("print_relative_test_log_paths", false, "If true, when printing the path to a test log, use relative path that makes use of the 'testlogs' convenience symlink. N.B. - A subsequent 'build'/'test'/etc invocation with a different configuration can cause the target of this symlink to change, making the path printed previously no longer useful.")
	coverageCmd.Flags().String("progress_report_interval", "", "The number of seconds to wait between reports on still running jobs. The")
	coverageCmd.Flags().String("remote_analysis_json_log", "", "If set, a JSON file is written to this location that contains a detailed log of the behavior of remote analysis caching. It's interpreted as a path relative to the current working directory.")
	coverageCmd.Flags().Bool("rewind_lost_inputs", false, "Whether to use action rewinding to recover from lost inputs.")
	coverageCmd.Flags().Bool("run_validations", false, "Whether to run validation actions as part of the build. See [Validation Actions].")
	coverageCmd.Flags().String("serialized_frontier_profile", "", "Dump a profile of serialized frontier bytes. Specifies the output path.")
	coverageCmd.Flags().Bool("show_loading_progress", false, "If enabled, causes Bazel to print \"Loading package:\" messages.")
	coverageCmd.Flags().String("show_result", "", "Show the results of the build. For each target, state whether or not it was brought")
	coverageCmd.Flags().Bool("skip_incompatible_explicit_targets", false, "Skip incompatible targets that are explicitly listed on the command line.")
	coverageCmd.Flags().String("spawn_strategy", "", "Specify how spawn actions are executed by default. Accepts a comma-separated list of strategies from highest to lowest priority. For each action Bazel picks the strategy with the highest priority that can execute the action. The default value is \"remote,worker,sandboxed,local\". See https://blog.bazel.build/2019/06/19/list-strategy.html for details.")
	coverageCmd.Flags().StringSlice("strategy", nil, "Specify how to distribute compilation of other spawn actions. Accepts a comma-separated list of strategies from highest to lowest priority. For each action Bazel picks the strategy with the highest priority that can execute the action. The default value is \"remote,worker,sandboxed,local\". This flag overrides the values set by --spawn_strategy (and --genrule_strategy if used with mnemonic Genrule). See https://blog.bazel.build/2019/06/19/list-strategy.html for details.")
	coverageCmd.Flags().StringSlice("strategy_regexp", nil, "Override which spawn strategy should be used to execute spawn actions that have descriptions matching a certain regex_filter. See --per_file_copt for details onregex_filter matching. The last regex_filter that matches the description is used. This option overrides other flags for specifying strategy. Example: --strategy_regexp=//foo.*\\\\.cc,-//foo/bar=local means to run actions using local strategy if their descriptions match //foo.*.cc but not //foo/bar. Example: --strategy_regexp='Compiling.*/bar=local  --strategy_regexp=Compiling=sandboxed will run 'Compiling //foo/bar/baz' with the 'local' strategy, but reversing the order would run it with 'sandboxed'. ")
	coverageCmd.Flags().StringP("subcommands", "s", "", "Display the subcommands executed during a build. Related flags: --execution_log_json_file, --execution_log_binary_file (for logging subcommands to a file in a tool-friendly format).")
	coverageCmd.Flags().String("symlink_prefix", "", "The prefix that is prepended to any of the convenience symlinks that are created")
	coverageCmd.Flags().String("target_pattern_file", "", "If set, build will read patterns from the file named here, rather than on the command line. It is an error to specify a file here as well as command-line patterns.")
	coverageCmd.Flags().Bool("test_keep_going", false, "When disabled, any non-passing test will cause the entire build to stop. By default all tests are run, even if some do not pass.")
	coverageCmd.Flags().String("test_lang_filters", "", "Specifies a comma-separated list of test languages. Each language can be optionally preceded with '-' to specify excluded languages. Only those test targets will be found that are written in the specified languages. The name used for each language should be the same as the language prefix in the *_test rule, e.g. one of 'cc', 'java', 'py', etc. This option affects --build_tests_only behavior and the test command.")
	coverageCmd.Flags().String("test_output", "", "Specifies desired output mode. Valid values are 'summary' to output only test status summary, 'errors' to also print test logs for failed tests, 'all' to print logs for all tests and 'streamed' to output logs for all tests in real time (this will force tests to be executed locally one at a time regardless of --test_strategy value).")
	coverageCmd.Flags().String("test_size_filters", "", "Specifies a comma-separated list of test sizes. Each size can be optionally preceded with '-' to specify excluded sizes. Only those test targets will be found that contain at least one included size and do not contain any excluded sizes. This option affects --build_tests_only behavior and the test command.")
	coverageCmd.Flags().String("test_strategy", "", "Specifies which strategy to use when running tests.")
	coverageCmd.Flags().String("test_summary", "", "Specifies the desired format of the test summary. Valid values are 'short' to print information only about tests executed, 'terse', to print information only about unsuccessful tests that were run, 'detailed' to print detailed information about failed test cases, 'testcase' to print summary in test case resolution, do not print detailed information about failed test cases and 'none' to omit the summary.")
	coverageCmd.Flags().String("test_tag_filters", "", "Specifies a comma-separated list of test tags. Each tag can be optionally preceded with '-' to specify excluded tags. Only those test targets will be found that contain at least one included tag and do not contain any excluded tags. This option affects --build_tests_only behavior and the test command.")
	coverageCmd.Flags().String("test_timeout_filters", "", "Specifies a comma-separated list of test timeouts. Each timeout can be optionally preceded with '-' to specify excluded timeouts. Only those test targets will be found that contain at least one included timeout and do not contain any excluded timeouts. This option affects --build_tests_only behavior and the test command.")
	coverageCmd.Flags().String("test_tmpdir", "", "Specifies the base temporary directory for 'bazel test' to use.")
	coverageCmd.Flags().Bool("test_verbose_timeout_warnings", false, "If true, print additional warnings when the actual test execution time does not match the timeout defined by the test (whether implied or explicit).")
	coverageCmd.Flags().Bool("use_action_cache", false, "Whether to use the action cache")
	coverageCmd.Flags().Bool("verbose_failures", false, "If a command fails, print out the full command line.")
	coverageCmd.Flags().Bool("verbose_test_summary", false, "If true, print additional information (timing, number of failed runs, etc) in the test summary.")
	coverageCmd.Flags().String("version_window_for_dirty_node_gc", "", "Nodes that have been dirty for more than this many versions will be deleted from the graph upon the next update. Values must be non-negative long integers, or -1 indicating the maximum possible window.")
	rootCmd.AddCommand(coverageCmd)
}
